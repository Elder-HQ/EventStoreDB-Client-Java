apply plugin: 'java-library'
apply from: rootProject.file('gradle/proto.gradle')
apply from: rootProject.file('gradle/spotbugs.gradle')
apply from: rootProject.file('gradle/updateProtos.gradle')
apply from: rootProject.file('gradle/publishing.gradle')

dependencies {
	implementation "javax.annotation:javax.annotation-api:${annotationApiVersion}"
	implementation "javax.validation:validation-api:${validationApiVersion}"

	implementation "com.google.protobuf:protobuf-java:${protobufVersion}"

	implementation platform("io.grpc:grpc-bom:${grpcVersion}")
	implementation 'io.grpc:grpc-netty-shaded'
	implementation 'io.grpc:grpc-stub'
	implementation 'io.grpc:grpc-protobuf'

	testImplementation "junit:junit:${junitVersion}"
	testImplementation "org.slf4j:slf4j-nop:${slf4jNopVersion}"
	testImplementation "org.testcontainers:testcontainers:${testcontainersVersion}"

	testImplementation platform("com.fasterxml.jackson:jackson-bom:${jacksonVersion}")
	testImplementation 'com.fasterxml.jackson.core:jackson-databind'
	testImplementation 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310'
}

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8
